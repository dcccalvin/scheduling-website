{% extends "scheduler/base_generic.html" %}

{% block content %}
  <h2>Register</h2>
  {% if error %}
    <p style="color: red;">{{ error }}</p>
  {% endif %}
  <form method="post">
    {% csrf_token %}
    {{ user_form.as_p }}
    
    <div id="service_provider_fields" style="display: none;">
        {{ provider_form.as_p }}
    </div>
    
    <button type="submit">Register</button>
  </form>

  <script>
    document.getElementById('id_is_service_provider').addEventListener('change', function () {
        var serviceProviderFields = document.getElementById('service_provider_fields');
        if (this.checked) {
            serviceProviderFields.style.display = 'block';
        } else {
            serviceProviderFields.style.display = 'none';
        }
    });
  </script>
  <br>
  <br>
  <br>
  <br>
  <br>
{% endblock %}
